{"version":3,"sources":["pages/checkout-page/checkout-page.styles.jsx","components/checkout-item/checkout-item.component.jsx","components/stripe-button/stripe-button.component.jsx","pages/checkout-page/checkout-page.component.jsx"],"names":["CheckoutPageContainer","styled","div","CheckoutHeaderDiv","HeaderBlockDiv","TotalDiv","TestWarningDiv","connect","dispatch","clearItem","item","addItem","removeItem","cartItem","name","quantity","price","imageUrl","className","alt","src","onClick","StripeButton","priceForStripe","label","billingAddress","shippingAddress","image","description","amount","panelLabel","token","data","axios","url","method","then","res","alert","catch","error","console","log","JSON","parse","stripeKey","mapStateToProps","createStructuredSelector","cartItems","selectCartItems","total","selectCartTotal","length","map","id"],"mappings":"4MAEaA,EAAwBC,IAAOC,IAAV,6JASrBC,EAAoBF,IAAOC,IAAV,2JAQjBE,EAAiBH,IAAOC,IAAV,mHASdG,EAAWJ,IAAOC,IAAV,2FAMRI,EAAiBL,IAAOC,IAAV,mI,gDCMZK,cAAQ,MATI,SAACC,GAAD,MAAa,CAEpCC,UAAY,SAAAC,GAAI,OAAIF,EAASC,YAAUC,KACvCC,QAAQ,SAAAD,GAAI,OAAIF,EAASG,YAAQD,KACjCE,WAAY,SAAAF,GAAI,OAAIF,EAASI,YAAWF,QAK7BH,EAhCM,SAAC,GAA2C,IAA1CM,EAAyC,EAAzCA,SAASJ,EAAgC,EAAhCA,UAAUE,EAAsB,EAAtBA,QAAQC,EAAc,EAAdA,WACvCE,EAAgCD,EAAhCC,KAAKC,EAA2BF,EAA3BE,SAASC,EAAkBH,EAAlBG,MAAMC,EAAYJ,EAAZI,SAE3B,OACI,sBAAKC,UAAU,gBAAf,UACA,qBAAKA,UAAU,kBAAf,SACI,qBAAKC,IAAI,OAAOC,IAAKH,MAEzB,uBAAMC,UAAU,OAAhB,cAAyBJ,KACzB,uBAAMI,UAAU,WAAhB,UACI,qBAAKA,UAAU,QAAQG,QAAS,kBAAKT,EAAWC,IAAhD,qBACG,sBAAMK,UAAU,QAAhB,SAAyBH,IAC5B,qBAAKG,UAAU,QAAQG,QAAS,kBAAKV,EAAQE,IAA7C,uBAEJ,sBAAMK,UAAU,QAAhB,SAAyBF,IACzB,qBAAKE,UAAU,gBAAgBG,QAAW,WAAMZ,EAAUI,IAA1D,0B,6CCsBOS,EAxCM,SAAC,GAAe,IAAbN,EAAY,EAAZA,MAChBO,EAAyB,IAARP,EAuBvB,OACE,cAAC,IAAD,CACEQ,MAAM,UACNV,KAAK,0BACLW,gBAAc,EACdC,iBAAe,EACfC,MAAO,iCACPC,YAAW,yBAAoBZ,GAC/Ba,OAAQN,EACRO,WAAW,WACXC,MA7BY,SAACA,EAAOC,GACtBC,IAAM,CACJC,IAAK,gCACLC,OAAQ,OACRH,KAAM,CACJH,OAAQN,EACRQ,WAGDK,MAAK,SAACC,GACLC,MAAM,yBAEPC,OAAM,SAACC,GACNC,QAAQC,IAAI,iBAAkBC,KAAKC,MAAMJ,IACzCF,MACE,6FAeJO,UAhCF,iHCmDEC,EAAkBC,YAAyB,CAC/CC,UAAWC,IACXC,MAAOC,MAGM5C,sBAAQuC,EAARvC,EA9CM,SAAC,GAAD,IAAGyC,EAAH,EAAGA,UAAWE,EAAd,EAAcA,MAAd,OACnB,eAAClD,EAAD,WACE,eAACG,EAAD,WACE,cAACC,EAAD,UACE,6CAGF,cAACA,EAAD,UACE,iDAGF,cAACA,EAAD,UACE,8CAGF,cAACA,EAAD,UACE,2CAGF,cAACA,EAAD,UACE,+CAIH4C,EAAUI,OACPJ,EAAUK,KAAI,SAACxC,GAAD,OACZ,cAAC,EAAD,CAAgCA,SAAUA,GAAvBA,EAASyC,OAE9B,KACJ,eAACjD,EAAD,CAAUa,UAAU,QAApB,sBAAsCgC,KACtC,eAAC5C,EAAD,CAAgBY,UAAU,eAA1B,sEAEE,uBAFF,8CAIE,uBAJF,iDAOA,cAAC,EAAD,CAAcF,MAAOkC","file":"static/js/7.cc346546.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const CheckoutPageContainer = styled.div`\r\n  width: 55%;\r\n  min-height: 90vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin: 50px auto 0;\r\n`;\r\n\r\nexport const CheckoutHeaderDiv = styled.div`\r\n  width: 100%;\r\n  padding: 10px 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  border-bottom: 1px solid darkgrey;\r\n`;\r\n\r\nexport const HeaderBlockDiv = styled.div`\r\n  text-transform: capitalize;\r\n  width: 23%;\r\n\r\n  &:last-child {\r\n    width: 8%;\r\n  }\r\n`;\r\n\r\nexport const TotalDiv = styled.div`\r\n  margin-top: 30px;\r\n  margin-left: auto;\r\n  font-size: 36px;\r\n`;\r\n\r\nexport const TestWarningDiv = styled.div`\r\n  text-align: center;\r\n  margin-top: 40px;\r\n  font-size: 24px;\r\n  color: red;\r\n  margin-bottom: 40px;\r\n`;\r\n","import React from \"react\";\r\n\r\nimport \"./checkout-item.styles.scss\";\r\n\r\nimport {connect} from \"react-redux\";\r\nimport { addItem, clearItem, removeItem } from \"../../redux/cart/cart.actions\";\r\n\r\n\r\nconst CheckoutItem = ({cartItem,clearItem,addItem,removeItem})=>{\r\n    const {name,quantity,price,imageUrl} = cartItem\r\n\r\n    return(\r\n        <div className=\"checkout-item\">\r\n        <div className=\"image-container\">\r\n            <img alt=\"item\" src={imageUrl}/>\r\n        </div>\r\n        <span className=\"name\"> {name}</span>\r\n        <span className=\"quantity\">\r\n            <div className=\"arrow\" onClick={()=> removeItem(cartItem)}> &#10094;</div>\r\n               <span className=\"value\">{quantity}</span>  \r\n            <div className=\"arrow\" onClick={()=> addItem(cartItem)}>&#10095;</div>\r\n        </span>\r\n        <span className=\"price\">{price}</span>\r\n        <div className=\"remove-button\" onClick = {()=> {clearItem(cartItem)}}>&#10005;</div>\r\n\r\n    </div>\r\n\r\n    )\r\n    \r\n    }\r\n\r\nconst mapDispatchToProps = (dispatch)=>({\r\n\r\n    clearItem : item => dispatch(clearItem(item)),\r\n    addItem:item => dispatch(addItem(item)),\r\n    removeItem :item => dispatch(removeItem(item))\r\n\r\n\r\n})\r\n\r\nexport default connect(null,mapDispatchToProps)(CheckoutItem);","import React from \"react\";\r\nimport \"./stripe-button.styles.scss\";\r\nimport StripeCheckout from \"react-stripe-checkout\";\r\nimport axios from \"axios\";\r\n\r\nconst StripeButton = ({ price }) => {\r\n  const priceForStripe = price * 100;\r\n  const publishableKey =\r\n    \"pk_test_51JFV3ySIPG1zY6Qx1NOFLoUjPZtKhGxZitnYJCsBYu9QIu27xFzUv0I1uf4IzkoazAXeCyu8fapz6Tb4cBFCpz10007OimmtYA\";\r\n\r\n  const onToken = (token, data) => {\r\n    axios({\r\n      url: \"http://localhost:5000/payment\",\r\n      method: \"post\",\r\n      data: {\r\n        amount: priceForStripe,\r\n        token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        alert(\"Payment successful\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Payment error:\", JSON.parse(error));\r\n        alert(\r\n          \"There was an issue with your payment.Please make sure you use a provided credit card.\"\r\n        );\r\n      });\r\n  };\r\n  return (\r\n    <StripeCheckout\r\n      label=\"Pay Now\"\r\n      name=\"Crwn Clothing Pvt. Ltd.\"\r\n      billingAddress\r\n      shippingAddress\r\n      image={\"https://svgshare.com/i/CUz.svg\"}\r\n      description={`Your total is $${price}`}\r\n      amount={priceForStripe}\r\n      panelLabel=\"Pay Now \"\r\n      token={onToken}\r\n      stripeKey={publishableKey}\r\n    />\r\n  );\r\n};\r\n\r\nexport default StripeButton;\r\n","import React from \"react\";\r\nimport {\r\n  CheckoutPageContainer,\r\n  CheckoutHeaderDiv,\r\n  HeaderBlockDiv,\r\n  TotalDiv,\r\n  TestWarningDiv,\r\n} from \"./checkout-page.styles\";\r\n\r\nimport { createStructuredSelector } from \"reselect\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  selectCartItems,\r\n  selectCartTotal,\r\n} from \"../../redux/cart/cart.selectors\";\r\nimport CheckoutItem from \"../../components/checkout-item/checkout-item.component\";\r\nimport StripeButton from \"../../components/stripe-button/stripe-button.component\";\r\n\r\nconst CheckoutPage = ({ cartItems, total }) => (\r\n  <CheckoutPageContainer>\r\n    <CheckoutHeaderDiv>\r\n      <HeaderBlockDiv>\r\n        <span>Product</span>\r\n      </HeaderBlockDiv>\r\n\r\n      <HeaderBlockDiv>\r\n        <span>Description</span>\r\n      </HeaderBlockDiv>\r\n\r\n      <HeaderBlockDiv>\r\n        <span>Quantity</span>\r\n      </HeaderBlockDiv>\r\n\r\n      <HeaderBlockDiv>\r\n        <span>Price</span>\r\n      </HeaderBlockDiv>\r\n\r\n      <HeaderBlockDiv>\r\n        <span>Remove</span>\r\n      </HeaderBlockDiv>\r\n    </CheckoutHeaderDiv>\r\n\r\n    {cartItems.length\r\n      ? cartItems.map((cartItem) => (\r\n          <CheckoutItem key={cartItem.id} cartItem={cartItem} />\r\n        ))\r\n      : null}\r\n    <TotalDiv className=\"total\">Total : ${total}</TotalDiv>\r\n    <TestWarningDiv className=\"test-warning\">\r\n      *Please use the following test credit cards for payments*\r\n      <br />\r\n      4242 4242 4242 4242 - Exp: 01/30 - CVV: 158\r\n      <br />\r\n      5555 5555 5555 4444 - Exp: 08/32 - CVV: 297\r\n    </TestWarningDiv>\r\n    <StripeButton price={total} />\r\n  </CheckoutPageContainer>\r\n);\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  cartItems: selectCartItems,\r\n  total: selectCartTotal,\r\n});\r\n\r\nexport default connect(mapStateToProps)(CheckoutPage);\r\n"],"sourceRoot":""}